
<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!-- For Mobile Devices -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
        <meta name="generator" content="Doxygen 1.8.11"/>
        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <title>OpenGR: Scripts, Demos and wrappers</title>
        <!--<link href="tabs.css" rel="stylesheet" type="text/css"/>-->
        <script type="text/javascript" src="dynsections.js"></script>
        <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
        <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSsymbols.js", "TeX/AMSmath.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
        <link href="tabs.css" rel="stylesheet" type="text/css"/>
        <link href="doxygen.css" rel="stylesheet" type="text/css" />
        <link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
        <link href='https://fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="doxy-boot.js"></script>
    </head>
    <body>
        <nav class="navbar navbar-default" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <img alt="OpenGR-logo" src="logo_dox.png"/>
                    <div id="projectbrief">A 3D Global Registration Library</div>
                    <!-- <a class="navbar-brand">OpenGR V1.1.3(cbce48e)</a> -->
                </div>
            </div>
        </nav>
        <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
            <div class="content" id="content">
                <div class="container">
                    <div class="row">
                        <div class="col-sm-12 panel " style="padding-bottom: 15px;">
                            <div style="margin-bottom: 15px;">
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">User documentation</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Scripts, Demos and wrappers </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Starting from v1.1.3, the library is shipped with applications demonstrating how to use the library.</p>
<h2>Standalone demo</h2>
<p>This is the original command line application, allowing to register two views of the same object or scene. It is available at <code>install_dir/bin/Super4pcs</code>.</p>
<p>To compile, call: </p><pre class="fragment">make Super4PCS
</pre><p>See the <a class="el" href="a00012.html">Usage</a> page for more details.</p>
<h2>Meshlab Plugin</h2>
<blockquote class="doxtable">
<p>You need to compile the library from source to use this feature. </p>
</blockquote>
<p>A Meshlab plugin can be generated from the library. Since we do not want to carry the full Meshlab repository, we assume that Meshlab source code can be found somewhere close to the Super4PCS sources (check <code>cmake/FindMeshlab.cmake</code> for more details). We thus provide a cmake target <code>Meshlab_install_plugin</code> that will generate a Meshlab plugin source files, and put them in <code>meshlab_dir/src/meshlabplugins/filter_globalregistration</code>:</p><ul>
<li><code>filter_globalregistration.pro</code>: which properly set the link and include directories to compile the plugin</li>
<li><code>globalregistration.h</code> and <code>globalregistration.cpp</code>: the plugin source code</li>
<li><code>readme.md</code>: which gives you the instructions to follow to add the GlobalRegistration plugin to the Meshlab plugin compilation list.</li>
</ul>
<p>Note that we also copy libraries and include files in the <code>meshlab_dir/src/external folder</code>.</p>
<p>To compile, call </p><pre class="fragment">make Meshlab_install_plugin
cd meshlab_dir/src
# Follow instructions from meshlabplugins/filter_globalregistration/readme.md
qmake meshlab_full.pro &amp;&amp; make
</pre><p>The plugin can be found in Meshlab in <code>Filter &gt; Point set &gt; Global Registration</code>, or using the filter search engine.</p>
<div class="image">
<img src="img/Meshlab-UI2.jpg"  width="1000px"/>
</div>
<h2>PCLWrapper</h2>
<p>Provides a wrapper to use Super4PCS within the Point Cloud Library, and implementing <code>pcl::Registration&lt;PointSource, PointTarget&gt;</code>.</p>
<p>The wrapper source code is available at <code>install_dir/include/pcl/registration</code>. Note that our file structure follows the PCL source code organization.</p>
<p>A command line application demonstrating how to use the wrapper is available here: <code>install_dir/bin/Super4PCS-PCLWrapper</code>. To compile, call: </p><pre class="fragment">make Super4PCS-PCLWrapper
</pre><p>The source code of the demo application is quite simple:</p>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span>GlobalRegistration;</div><div class="line"></div><div class="line"><span class="comment">// Align a rigid object to a scene with clutter and occlusions</span></div><div class="line"><span class="keywordtype">int</span></div><div class="line">main (<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div><div class="line">{</div><div class="line">  <span class="comment">// Point clouds</span></div><div class="line">  PointCloudT::Ptr object (<span class="keyword">new</span> PointCloudT);</div><div class="line">  PointCloudT::Ptr object_aligned (<span class="keyword">new</span> PointCloudT);</div><div class="line">  PointCloudT::Ptr scene (<span class="keyword">new</span> PointCloudT);</div><div class="line"></div><div class="line">  <span class="comment">// Get input object and scene</span></div><div class="line">  <span class="keywordflow">if</span> (argc &lt; 4)</div><div class="line">  {</div><div class="line">    pcl::console::print_error (<span class="stringliteral">&quot;Syntax is: %s scene.obj object.obj [PARAMS]\n&quot;</span>, argv[0]);</div><div class="line">    Demo::printParameterList();</div><div class="line">    <span class="keywordflow">return</span> (-1);</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="comment">// Load object and scene</span></div><div class="line">  pcl::console::print_highlight (<span class="stringliteral">&quot;Loading point clouds...\n&quot;</span>);</div><div class="line">  <span class="keywordflow">if</span> (pcl::io::loadOBJFile&lt;PointNT&gt; (argv[2], *<span class="keywordtype">object</span>) &lt; 0 ||</div><div class="line">      pcl::io::loadOBJFile&lt;PointNT&gt; (argv[1], *scene) &lt; 0)</div><div class="line">  {</div><div class="line">    pcl::console::print_error (<span class="stringliteral">&quot;Error loading object/scene file!\n&quot;</span>);</div><div class="line">    <span class="keywordflow">return</span> (-1);</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="comment">// Load Super4pcs parameters</span></div><div class="line">  Demo::getArgs(argc, argv);</div><div class="line"></div><div class="line">  pcl::Super4PCS&lt;PointNT,PointNT&gt; align;</div><div class="line">  Demo::setOptionsFromArgs(align.options_);</div><div class="line"></div><div class="line">  <span class="comment">// Perform alignment</span></div><div class="line">  pcl::console::print_highlight (<span class="stringliteral">&quot;Starting alignment...\n&quot;</span>);</div><div class="line">  align.setInputSource (<span class="keywordtype">object</span>);</div><div class="line">  align.setInputTarget (scene);</div><div class="line"></div><div class="line">  {</div><div class="line">    pcl::ScopeTime t(<span class="stringliteral">&quot;Alignment&quot;</span>);</div><div class="line">    align.align (*object_aligned);</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="keywordflow">if</span> (align.hasConverged ())</div><div class="line">  {</div><div class="line">    <span class="comment">// Print results</span></div><div class="line">    printf (<span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line">    Eigen::Matrix4f transformation = align.getFinalTransformation ();</div><div class="line">    pcl::console::print_info (<span class="stringliteral">&quot;    | %6.3f %6.3f %6.3f | \n&quot;</span>, transformation (0,0), transformation (0,1), transformation (0,2));</div><div class="line">    pcl::console::print_info (<span class="stringliteral">&quot;R = | %6.3f %6.3f %6.3f | \n&quot;</span>, transformation (1,0), transformation (1,1), transformation (1,2));</div><div class="line">    pcl::console::print_info (<span class="stringliteral">&quot;    | %6.3f %6.3f %6.3f | \n&quot;</span>, transformation (2,0), transformation (2,1), transformation (2,2));</div><div class="line">    pcl::console::print_info (<span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line">    pcl::console::print_info (<span class="stringliteral">&quot;t = &lt; %0.3f, %0.3f, %0.3f &gt;\n&quot;</span>, transformation (0,3), transformation (1,3), transformation (2,3));</div><div class="line">    pcl::console::print_info (<span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"></div><div class="line">    <span class="comment">// Show alignment</span></div><div class="line">    pcl::visualization::PCLVisualizer visu(<span class="stringliteral">&quot;Alignment - Super4PCS&quot;</span>);</div><div class="line">    visu.addPointCloud (scene, ColorHandlerT (scene, 0.0, 255.0, 0.0), <span class="stringliteral">&quot;scene&quot;</span>);</div><div class="line">    visu.addPointCloud (object_aligned, ColorHandlerT (object_aligned, 0.0, 0.0, 255.0), <span class="stringliteral">&quot;object_aligned&quot;</span>);</div><div class="line">    visu.spin ();</div><div class="line">  }</div><div class="line">  <span class="keywordflow">else</span></div><div class="line">  {</div><div class="line">    pcl::console::print_error (<span class="stringliteral">&quot;Alignment failed!\n&quot;</span>);</div><div class="line">    <span class="keywordflow">return</span> (-1);</div><div class="line">  }</div><div class="line"></div><div class="line">  <span class="keywordflow">return</span> (0);</div><div class="line">}</div></div><!-- fragment --> </div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</div>
</div>
</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>
Generated on Tue Nov 27 2018 08:07:08 for OpenGR by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
